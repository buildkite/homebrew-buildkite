# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Bktec < Formula
  desc "Buildkite Test Engine Client"
  homepage "https://github.com/buildkite/test-engine-client"
  version "2.1.3"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/buildkite/test-engine-client/releases/download/v2.1.3/bktec_2.1.3_darwin_amd64"
      sha256 "43e3a8f48365019108c555add3a972505783afc4a08226241b653c30bc45b632"

      define_method(:install) do
        bin.install "bktec_2.1.3_darwin_amd64" => "bktec"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/buildkite/test-engine-client/releases/download/v2.1.3/bktec_2.1.3_darwin_arm64"
      sha256 "d56e85dec8dda98d1db3b9282ea61066a15f3372a571acb8ad07811f68e81e8a"

      define_method(:install) do
        bin.install "bktec_2.1.3_darwin_arm64" => "bktec"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/buildkite/test-engine-client/releases/download/v2.1.3/bktec_2.1.3_linux_amd64"
      sha256 "cb2fb5560ddc0339f91f885c433549af2a2dc38ac556419e912c7eb6dd9ed55b"
      define_method(:install) do
        bin.install "bktec_2.1.3_linux_amd64" => "bktec"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/buildkite/test-engine-client/releases/download/v2.1.3/bktec_2.1.3_linux_arm64"
      sha256 "5b6f7b108e58d0c6a753e5c14224e0def8bac63b331f59b084031a413cec9a8c"
      define_method(:install) do
        bin.install "bktec_2.1.3_linux_arm64" => "bktec"
      end
    end
  end

  test do
    version_output = shell_output("bktec --version")
    assert_match "v#{version}\n", version_output
  end
end
