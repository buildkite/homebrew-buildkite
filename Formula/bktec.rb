# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Bktec < Formula
  desc "Buildkite Test Engine Client"
  homepage "https://github.com/buildkite/test-engine-client"
  version "2.1.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/buildkite/test-engine-client/releases/download/v2.1.0/bktec_2.1.0_darwin_amd64"
      sha256 "6a99dbbd681c8e3ceb36d8d684713bd0b0783c2618d921003b8b18bee2c1297d"

      def install
        bin.install "bktec_2.1.0_darwin_amd64" => "bktec"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/buildkite/test-engine-client/releases/download/v2.1.0/bktec_2.1.0_darwin_arm64"
      sha256 "2c4740ae1268453bb6efa8f0029e46c7f72ef981cf30e1a31d964451856e61ab"

      def install
        bin.install "bktec_2.1.0_darwin_arm64" => "bktec"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/buildkite/test-engine-client/releases/download/v2.1.0/bktec_2.1.0_linux_amd64"
      sha256 "ce5b1ffac2343aef566a1e20b7253cc6cf13fac10545ba75c152f82057b0440f"
      def install
        bin.install "bktec_2.1.0_linux_amd64" => "bktec"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/buildkite/test-engine-client/releases/download/v2.1.0/bktec_2.1.0_linux_arm64"
      sha256 "f85e07af735b971b97f049701d1625cc09f052c68fdc297f3acaa6cb4ca1ea05"
      def install
        bin.install "bktec_2.1.0_linux_arm64" => "bktec"
      end
    end
  end

  test do
    version_output = shell_output("bktec --version")
    assert_match "v#{version}\n", version_output
  end
end
